{"version":3,"sources":["webpack:///./src/view/Login.vue?d118","webpack:///./src/api/login.js","webpack:///./src/view/Login.vue?3db0","webpack:///src/view/Login.vue","webpack:///./src/view/Login.vue?368a","webpack:///./src/view/Login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0___default","n","d","__webpack_exports__","loginApi","loginStatusApi","logoutApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","data","post","get","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","backgroundColor","bgColor","_v","_s","$t","ref","attrs","model","loginForm","rules","loginRules","size","nativeOn","keyup","$event","_k","keyCode","key","loginHandler","prop","placeholder","prefix-icon","autocomplete","value","callback","$$v","$set","expression","type","staticStyle","width","on","click","staticRenderFns","Loginvue_type_script_lang_js_","loginLoadding","username","password","required","message","trigger","min","max","computed","alpha","Math","abs","Date","getHours","concat","methods","_this","$refs","loginFormRef","validate","valid","postData","$root","Md5Sum","Object","login","then","res","SetLoginToken","token","$router","push","name","catch","err","code","CODE_ERR_LOGIN_FAILED","$message","error","view_Loginvue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"kHAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAohBE,EAAG,uCCAvhBD,EAAAG,EAAAC,EAAA,sBAAAC,IAAAL,EAAAG,EAAAC,EAAA,sBAAAE,IAAAN,EAAAG,EAAAC,EAAA,sBAAAG,IAAA,IAAAC,EAAAR,EAAA,QAEO,SAASK,EAASI,GACrB,OAAOC,eAAK,SAAUD,GAGnB,SAASH,IACZ,OAAOK,eAAI,iBAGR,SAASJ,IACZ,OAAOG,eAAK,6ECXhB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAwB,CAAAF,EAAA,OAAYE,YAAA,kBAAAC,MAAA,CAAsCC,gBAAAR,EAAAS,UAA+B,CAAAL,EAAA,OAAYE,YAAA,mBAA8B,CAAAF,EAAA,WAAgBE,YAAA,aAAwB,CAAAF,EAAA,OAAYE,YAAA,eAA0B,CAAAN,EAAAU,GAAAV,EAAAW,GAAAX,EAAAY,GAAA,wBAAAR,EAAA,WAA6DS,IAAA,eAAAP,YAAA,aAAAQ,MAAA,CAAmDC,MAAAf,EAAAgB,UAAAC,MAAAjB,EAAAkB,WAAAC,KAAA,UAA6DC,SAAA,CAAWC,MAAA,SAAAC,GAAyB,iBAAAA,IAAAtB,EAAAuB,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,IAAA,SAA+FzB,EAAA0B,aAAAJ,GAAf,QAAiD,CAAAlB,EAAA,gBAAqBU,MAAA,CAAOa,KAAA,aAAmB,CAAAvB,EAAA,YAAiBU,MAAA,CAAOc,YAAA5B,EAAAY,GAAA,qBAAAiB,cAAA,qBAAAC,aAAA,OAAkGf,MAAA,CAAQgB,MAAA/B,EAAAgB,UAAA,SAAAgB,SAAA,SAAAC,GAAwDjC,EAAAkC,KAAAlC,EAAAgB,UAAA,WAAAiB,IAAyCE,WAAA,yBAAkC,GAAA/B,EAAA,gBAAyBU,MAAA,CAAOa,KAAA,aAAmB,CAAAvB,EAAA,YAAiBU,MAAA,CAAOc,YAAA5B,EAAAY,GAAA,YAAAiB,cAAA,qBAAAO,KAAA,WAAAN,aAAA,OAA2Gf,MAAA,CAAQgB,MAAA/B,EAAAgB,UAAA,SAAAgB,SAAA,SAAAC,GAAwDjC,EAAAkC,KAAAlC,EAAAgB,UAAA,WAAAiB,IAAyCE,WAAA,yBAAkC,GAAA/B,EAAA,gBAAAA,EAAA,aAAyCiC,YAAA,CAAaC,MAAA,QAAexB,MAAA,CAAQsB,KAAA,WAAiBG,GAAA,CAAKC,MAAAxC,EAAA0B,eAA0B,CAAA1B,EAAAU,GAAAV,EAAAW,GAAAX,EAAAY,GAAA,kCAC/4C6B,EAAA,2DCyBAC,EAAA,CACA9C,KADA,WAEA,OACA+C,eAAA,EACA3B,UAAA,CACA4B,SAAA,GACAC,SAAA,IAEA3B,WAAA,CACA0B,SAAA,EAAAE,UAAA,EAAAC,QAAA9C,KAAAW,GAAA,0BAAAoC,QAAA,SACAH,SAAA,CACA,CAAAC,UAAA,EAAAC,QAAA9C,KAAAW,GAAA,yBAAAoC,QAAA,QACA,CAAAC,IAAA,EAAAC,IAAA,GAAAH,QAAA9C,KAAAW,GAAA,kBAAAqC,IAAA,EAAAC,IAAA,KAAAF,QAAA,YAKAG,SAAA,CACA1C,QADA,WAEA,IAAA2C,EAAAC,KAAAJ,IAAAI,KAAAC,KAAA,IAAAC,MAAAC,WAAA,WACA,uBAAAC,OAAAL,EAAA,OAGAM,QAAA,CACAhC,aADA,WACA,IAAAiC,EAAA1D,KACAA,KAAA2D,MAAAC,aAAAC,SAAA,SAAAC,GACA,IAAAA,EACA,SAEA,IAAAC,EAAA,CACApB,SAAAe,EAAA3C,UAAA4B,SACAC,SAAAc,EAAAM,MAAAC,OAAAP,EAAA3C,UAAA6B,WAEAsB,OAAAC,EAAA,KAAAD,CAAAH,GAAAK,KAAA,SAAAC,GACAX,EAAAM,MAAAM,cAAAD,EAAAE,OACAb,EAAAc,QAAAC,KAAA,CAAAC,KAAA,gBACAC,MAAA,SAAAC,GACAA,EAAAC,MAAAD,EAAAC,QAAA,KAAAC,uBACApB,EAAAqB,SAAAC,MAAA,eAAAJ,EAAA9B,gBChE+UmC,EAAA,0BCQ/UC,EAAgBhB,OAAAiB,EAAA,KAAAjB,CACde,EACAnF,EACA0C,GACF,EACA,KACA,KACA,MAIA0C,EAAAE,QAAAC,OAAA,YACe/F,EAAA,WAAA4F","file":"js/chunk-ec4f13a4.016c3aeb.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"","import {get, post} from '@/lib/fetch.js'\n\nexport function loginApi(data) {\n    return post('/login', data)\n}\n\nexport function loginStatusApi() {\n    return get(\"/login/status\")\n}\n\nexport function logoutApi() {\n    return post('/logout')\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-login\"},[_c('div',{staticClass:\"app-login-inner\",style:({backgroundColor: _vm.bgColor})},[_c('div',{staticClass:\"login-container\"},[_c('el-card',{staticClass:\"login-box\"},[_c('div',{staticClass:\"login-title\"},[_vm._v(_vm._s(_vm.$t('welcome_to_login')))]),_c('el-form',{ref:\"loginFormRef\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"size\":\"medium\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.loginHandler($event)}}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('username_or_email'),\"prefix-icon\":\"iconfont icon-user\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('password'),\"prefix-icon\":\"iconfont icon-lock\",\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loginHandler}},[_vm._v(_vm._s(_vm.$t('login')))])],1)],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-login\">\n        <div class=\"app-login-inner\" :style=\"{backgroundColor: bgColor}\">\n            <div class=\"login-container\">\n                <el-card class=\"login-box\">\n                    <div class=\"login-title\">{{ $t('welcome_to_login') }}</div>\n                    <el-form @keyup.enter.native=\"loginHandler\" ref=\"loginFormRef\" :model=\"loginForm\" :rules=\"loginRules\" size=\"medium\" class=\"login-form\">\n                        <el-form-item prop=\"username\">\n                            <el-input :placeholder=\"$t('username_or_email')\" prefix-icon=\"iconfont icon-user\" v-model=\"loginForm.username\" autocomplete=\"off\"></el-input>\n                        </el-form-item>\n                        <el-form-item prop=\"password\">\n                            <el-input :placeholder=\"$t('password')\" prefix-icon=\"iconfont icon-lock\" type=\"password\" v-model=\"loginForm.password\" autocomplete=\"off\"></el-input>\n                        </el-form-item>\n                        <el-form-item>\n                            <el-button @click=\"loginHandler\" type=\"primary\" style=\"width: 100%;\">{{ $t('login') }}</el-button>\n                        </el-form-item>\n                    </el-form>\n                </el-card>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { loginApi } from '@/api/login'\nimport Code from '@/lib/code'\nexport default {\n    data () {\n        return {\n            loginLoadding: false,\n            loginForm: {\n                username: \"\",\n                password: \"\",\n            },\n            loginRules: {\n                username: [{ required: true, message: this.$t('please_input_loginname'), trigger: 'blur' }],\n                password: [\n                    { required: true, message: this.$t('please_input_password'), trigger: 'blur' },\n                    { min: 6, max: 20, message: this.$t('strlen_between', {min: 6, max: 20}), trigger: 'blur' },\n                ],\n            },\n        }\n    },\n    computed: {\n        bgColor() {\n            let alpha = Math.min(Math.abs(new Date().getHours() - 12) / 10, 0.50)\n            return `rgba(0, 0, 0, ${alpha})`\n        },\n    },\n    methods: {\n        loginHandler() {\n            this.$refs.loginFormRef.validate((valid) => {\n                if (!valid) {\n                    return false\n                }\n                let postData = {\n                    username: this.loginForm.username,\n                    password: this.$root.Md5Sum(this.loginForm.password),\n                }\n                loginApi(postData).then(res => {\n                    this.$root.SetLoginToken(res.token)\n                    this.$router.push({name: 'dashboard'})\n                }).catch(err => {\n                    if (err.code && err.code == Code.CODE_ERR_LOGIN_FAILED) {\n                        this.$message.error('登录失败, 错误信息: ' + err.message);\n                    }\n                })\n            });\n        },\n    },\n}\n</script>\n\n<style lang=\"scss\" scope>\n.app-login {\n    width: 100%;\n    height: 100%;\n    background-image: url('../asset/login_bg.jpg');\n    background-position: 50%;\n    background-size: cover;\n    .app-login-inner {\n        width: 100%;\n        height: 100%;\n    }\n    .login-container {\n        display: flex;\n        justify-content: center;\n        .login-box {\n            margin-top: 20vh;\n            width: 30vw;\n            .login-title {\n                font-weight: 500;\n                text-align: center;\n                font-size: 14px;\n                margin-bottom: 20px;\n            }\n        }\n    }\n    .login-cpy {\n        display: flex;\n        justify-content: center;\n        margin-top: 30px;\n        color: #fff;\n        a {\n            margin: 0 5px;\n            color: #fff;\n        }\n    }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=744f5903&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports"],"sourceRoot":""}